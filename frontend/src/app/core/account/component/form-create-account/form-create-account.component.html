<form
  [formGroup]="accountForm"
  (ngSubmit)="createAccount()"
>

  <h3>Open a new account</h3>

    <mat-form-field>
      Account Type

      <mat-select formControlName="accountType">
          <mat-option value="" disabled></mat-option>
          @for (type of accountTypes; track type) {
            <mat-option *ngFor="let type of accountTypes" [value]="type">
              {{ type }}
            </mat-option>
          }
      </mat-select>

      @if (accountForm.get('accountType')?.hasError('required')) {
        <mat-error>Account Type is required</mat-error>
      }
    </mat-form-field>

    <mat-form-field>
      Currency

      <mat-select formControlName="currencyId">
        <mat-option value="" disabled></mat-option>
        @for (currency of currencies; track currency.id) {
          <mat-option [value]="currency.id">
            {{ currency.name }}
          </mat-option>
        }
      </mat-select>

      @if (accountForm.get('currencyId')?.hasError('required')) {
        <mat-error>Currency is required</mat-error>
      }
    </mat-form-field>

    <button mat-flat-button type="submit" [disabled]="!accountForm.valid">
      Open
    </button>

</form>